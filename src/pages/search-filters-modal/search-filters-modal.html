<ion-header>
  <ion-toolbar color="theme_color_toolbar">
    <ion-buttons end>
      <button (click)="dismiss()" ion-button strong [disabled]="!productSearchFormGroup.valid">Aplicar</button>
    </ion-buttons>
    <ion-title>Filtros de búsqueda</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <form [formGroup]="productSearchFormGroup" (ngSubmit)="dismiss()">

    <ion-list>
      <ion-list-header>
        Precio de lanzamiento:
        <ion-icon small name="logo-euro"></ion-icon>
        <ion-badge item-right>
          {{ productSearchFormGroup.value.starting_price.lower }}
        </ion-badge>
        <ion-badge item-right>
          {{ productSearchFormGroup.value.starting_price.upper }}
        </ion-badge>
      </ion-list-header>
      <ion-item>
        <ion-range dualKnobs="true"
                   min="0"
                   max="1000"
                   step="1"
                   formControlName="starting_price"></ion-range>
      </ion-item>
      <ion-item>
        <ion-label color="primary" floating>Fecha de lanzamiento</ion-label>
        <ion-datetime displayFormat="DDDD D MMM \d\e\l YYYY"
                      [(ngModel)]="productSearchFormGroup.value.datetime_product"
                      cancelText="Cancelar"
                      doneText="Fechar"
                      formControlName="datetime_product"></ion-datetime>
      </ion-item>
      <ion-item>
        <ion-label color="primary" floating>Ubicación</ion-label>
        <ion-input type="text"
                   formControlName="location"
                   [(ngModel)]="productSearchFormGroup.value.location"
                   autocomplete="on"
                   autocorrect="on"
                   autocapitalize="on"></ion-input>
      </ion-item>
      <ion-item>
        <ion-label color="primary" floating>Categorías</ion-label>
        <ion-select okText="Añadir categoría"
                    cancelText="Cancelar"
                    formControlName="category"
                    [(ngModel)]="productSearchFormGroup.value.category"
                    [selectOptions]="selectOptions">
          <ion-option *ngFor="let option of categories()" value="{{option.value}}">{{option.name}}</ion-option>
        </ion-select>
      </ion-item>
      <ion-item>
        <ion-label color="primary" floating>Descripción</ion-label>
        <ion-textarea formControlName="description"
                      autocomplete="on"
                      autocorrect="on"
                      [(ngModel)]="productSearchFormGroup.value.description"
                      autocapitalize="on"
                      spellcheck="true"></ion-textarea>
      </ion-item>
    </ion-list>
  </form>
</ion-content>
